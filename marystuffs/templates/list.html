{% extends 'base.html' %}




{% block content %}   

<br>
<hr>

  <style type="text/css">
  	.center {
		text-align: center;
  	}
  </style>

	<div class="center">
	<span class="d-block p-2 bg-dark text-white"><strong>Appointments List:</strong></span>
	</div>
	<br>
			<!--MESSAGE-->
			<div class="container">
			{% if messages %}
				{% for message in messages %}
					<div class="alert alert-primary alert-dismissable" role="alert">
					   		<button class="close" data-dismiss="alert">
					   			<small><sup>Close</sup></small>
					   		</button>
					   	{{ message }}
					</div>
				{% endfor %}
			{% endif %}
			</div>
	<!--<li class="list-group-item list-group-item-secondary"><h2>Appointments Set:</h2></li>-->
	<br>


	<style type="text/css">
		.lower {
			padding: 2px 10px
			 
		}

	</style>		
		<div class="container">
			{% if all_appointments %}
				{% for info in all_appointments %}
					<div class="col-sm">
						<ul class="list-group">
								<!--Appointment Info-->
								<li class="list-group-item list-group-item-secondary">Appointment {{ forloop.counter}} | <b>{{ info.name}}</b> <b>{{ info.last }}</b></li>
								<li class="list-group-item">Date: <strong>{{ info.date }}</strong></li>
								<li class="list-group-item">Start Time: <strong>{{ info.start}}</strong></li>
								<li class="list-group-item">End Time: <strong>{{ info.end }}</strong></li>
								<br>
								<!--Client Info-->
								<div class="col-sm">
									<li class="list-group-item list-group-item-secondary lower">Client Info</li>
									<li class="list-group-item">Occupation: <strong>{{ info.occupation }}</strong></li>
								    <li class="list-group-item">Category of Shoot: <strong>{{ info.category }}</strong></li>
									<li class="list-group-item">Email: <strong>{{ info.email }}</strong></li>
									<li class="list-group-item">Phone: <strong>{{ info.phone }}</strong></li>
								</div>
							<!-- <li class="list-group-item">Occupation: <strong>{{ info.occupation }}</strong></li>
							<li class="list-group-item">Category of Shoot: <strong>{{ info.category }}</strong></li> -->
							<!-- <li class="list-group-item">Date: <strong>{{ info.date }}</strong></li> -->
							<!-- <li class="list-group-item">Start Time: <strong>{{ info.start}}</strong></li>
							<li class="list-group-item">End Time: <strong>{{ info.end }}</strong></li> -->
							<br>



							<div class="container">
								<div class="row">

								<h4><span class="badge badge-dark">Location:</span></h4>
								<!--<h4><a href="{% url 'map' %}" class="badge badge-dark left">Map of Location</a></h4>-->
								</div>

								<div class="append">
									<li class="list-group-item color hide map">{{ info.location }}</li>
									<li class="list-group-item go">{{ info.loc_name }}</li>
									<li class="list-group-item go">{{ info.address }}</li>
									<li class="list-group-item go">{{ info.city }}</li>
									<li class="list-group-item go">{{ info.state }}</li>
									<li class="list-group-item go">{{ info.zipcode }}</li>
									<a href="https://www.google.com/maps/dir/40+West+Howard+Street+Pontiac+MI+48342/{{ info.address }}+{{ info.city }}+{{ info.state }}+{{ info.zipcode }}" class="badge badge-secondary mappy">Click for Directions</a>
								</div>


							<style type="text/css">
								.left {
									margin-left: 60px;
								}
							
							</style>




								
								
									
								<hr>
																	
								<style type="text/css">
									.goldy {
										background-color: #FFD700;
									}
									.prince {
										background-color: #DDA0DD;
									}
								</style>

								<!--OnSite | InStudio-->
								<script type="text/javascript">
									var colorElements = document.querySelectorAll('.color');
									colorElements.forEach(element => {
										if (element.innerHTML == "OnSite") {
											element.classList.add('goldy');
										} else if (element.innerHTML == "InStudio") {
											element.classList.add('prince');
										}
									});
								</script>

						

								<!--EDIT BUTTON-->
								<a href="{% url 'edit' info.id %}" class="btn btn-block btn-dark">Edit Appointment</a>
							</div>
							


							<style type="text/css">
								.hidden {
									display: none;
								}
							</style>

							<script type="text/javascript">
								var allElements = document.querySelectorAll('.go');
								allElements.forEach(element => {
									if (element.innerHTML == "None") {
										element.classList.add('hidden');
									};
								});
							</script>


							<style type="text/css">
									.hideout {
										display: none;
									}
								</style>


						</ul>

					</div>


					<!--The Top Button-->

					<style type="text/css">
						.centro {
							margin: auto;
							width: 100%;
							text-align: center;
						}
					</style>

					<hr>

					<a href="{% url 'list' %}" class="badge badge-pill badge-light centro"><h6>Back to Top</h6></a>

					<hr>



				{% endfor %}
			{% endif %}


</div>

							<!--Hide map for Whole-->
								<script type="text/javascript">
									const appendElement = document.getElementsByClassName('append');
									for (let i=0; i<appendElement.length; i++){
										
										if (appendElement[i].children[0].innerHTML == "InStudio"){
											
											appendElement[i].children[6].classList.add("hideout");
										}
									}																									
								</script>


							<!--Hide map for Partial-->
								<script type="text/javascript">
									const someElement = document.getElementsByClassName('append');
									for (let i=0; i<someElement.length; i++){
										if (someElement[i].children[2].innerHTML == "None"){
											someElement[i].children[6].classList.add("hideout");
										}
									}
								</script>

								<!--Putting the same element on two different lanes for two purposes-->


{% endblock %}