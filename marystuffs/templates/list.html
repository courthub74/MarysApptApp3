{% extends 'base.html' %}




{% block content %}   

<br>
<hr>

  <style type="text/css">
  	.center {
		text-align: center;
  	}
  </style>

	<div class="center">
	<span class="d-block p-2 bg-dark text-white"><strong>Appointments List:</strong></span>
	</div>
	<br>
			<!--MESSAGE-->
			<div class="container">
			{% if messages %}
				{% for message in messages %}
					<div class="alert alert-primary alert-dismissable" role="alert">
					   		<button class="close" data-dismiss="alert">
					   			<small><sup>Close</sup></small>
					   		</button>
					   	{{ message }}
					</div>
				{% endfor %}
			{% endif %}
			</div>
	<!--<li class="list-group-item list-group-item-secondary"><h2>Appointments Set:</h2></li>-->
	<br>		
		<div class="container">
			{% if all_appointments %}
				{% for info in all_appointments %}
					<div class="col-sm">
						<ul class="list-group">
							<li class="list-group-item list-group-item-secondary"><strong>Appointment {{ forloop.counter}}:</strong></li>
							<li class="list-group-item">First: <strong>{{ info.name }}</strong></li>
							<li class="list-group-item">Last: <strong>{{ info.last }}</strong></li>
							<li class="list-group-item">Email: <strong>{{ info.email }}</strong></li>
							<li class="list-group-item">Phone: <strong>{{ info.phone }}</strong></li>
							<li class="list-group-item">Occupation: <strong>{{ info.occupation }}</strong></li>
							<li class="list-group-item">Category of Shoot: <strong>{{ info.category }}</strong></li>
							<li class="list-group-item">Date: <strong>{{ info.date }}</strong></li>
							<li class="list-group-item">Start Time: <strong>{{ info.start}}</strong></li>
							<li class="list-group-item">End Time: <strong>{{ info.end }}</strong></li>
							<br>


							<style type="text/css">
								.left {
									margin-left: 60px;
								}
							
							</style>



							<div class="container">
								<div class="row">
								<h4><span class="badge badge-dark">Location:</span></h4>
								<!--<h4><a href="{% url 'map' %}" class="badge badge-dark left">Map of Location</a></h4>-->
								</div>
								<li class="list-group-item color hide map">{{ info.location }}</li>
									
										
								
								

								<style type="text/css">
									.goldy {
										background-color: #FFD700;
									}
									.prince {
										background-color: #DDA0DD;
									}
								</style>

								<!--OnSite | InStudio-->
								<script type="text/javascript">
									var colorElements = document.querySelectorAll('.color');
									colorElements.forEach(element => {
										if (element.innerHTML == "OnSite") {
											element.classList.add('goldy');
										} else if (element.innerHTML == "InStudio") {
											element.classList.add('prince');
										}
									});
								</script>

								<style type="text/css">
									.hideout {
										display: none;
									}
								</style>

								<!--Mappy-->
								<script type="text/javascript">
									var locElements = document.querySelectorAll('.map');
									var mapElement = document.querySelectorAll('.mappy');
									locElements.forEach(element => {

									if (element.innerHTML == "OnSite") {
										
										console.log("hide me");
																																
									} else if (element.innerHTML == "InStudio") {
										mapElement[0].classList.add('hideout');	
										mapElement[2].classList.add('hideout');	
										mapElement[7].classList.add('hideout');															
										console.log('show mappy');
										}

									});	
									
								</script>


								<div id="locablock">
									<li class="list-group-item go">{{ info.loc_name }}</li>
									<li class="list-group-item go">{{ info.address }}</li>
									<li class="list-group-item go">{{ info.city }}</li>
									<li class="list-group-item go">{{ info.state }}</li>
									<li class="list-group-item go">{{ info.zipcode }}</li>
									<a href="{% url 'map' %}" class="badge badge-secondary mappy">On the Map</a>
								</div>
								<hr>
								<!--EDIT BUTTON-->
								<a href="{% url 'edit' info.id %}" class="btn btn-block btn-dark">Edit Appointment</a>
							</div>
							<br>


							<style type="text/css">
								.hidden {
									display: none;
								}
							</style>

							<script type="text/javascript">
								var allElements = document.querySelectorAll('.go');
								allElements.forEach(element => {
									if (element.innerHTML == "None") {
										element.classList.add('hidden');
									};
								});
							</script>


						</ul>
					</div>
				{% endfor %}
			{% endif %}


</div>

{% endblock %}